<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from org.apache.maven.plugins:maven-pmd-plugin:3.26.0:aggregate-cpd at 2025-06-22
 | Rendered using Apache Maven Fluido Skin 2.1.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>CPD Results â€“ psi-probe</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.1.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.1.0.min.js"></script>
  </head>
  <body class="topBarEnabled">
    <header id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
        <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
            <ul class="nav">
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">User Guide <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li><a href="README.html">README</a></li>
        </ul>
      </li>
      <li class="dropdown">
        <a class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
            <li class="dropdown-submenu">
<a href="project-info.html">Project Information</a>
              <ul class="dropdown-menu">
                  <li><a href="ci-management.html">CI Management</a></li>
                  <li><a href="dependencies.html">Dependencies</a></li>
                  <li><a href="dependency-convergence.html">Dependency Convergence</a></li>
                  <li><a href="dependency-info.html">Maven Coordinates</a></li>
                  <li><a href="dependency-management.html">Dependency Management</a></li>
                  <li><a href="distribution-management.html">Distribution Management</a></li>
                  <li><a href="index.html">About</a></li>
                  <li><a href="issue-management.html">Issue Management</a></li>
                  <li><a href="licenses.html">Licenses</a></li>
                  <li><a href="mailing-lists.html">Mailing Lists</a></li>
                  <li><a href="modules.html">Project Modules</a></li>
                  <li><a href="plugin-management.html">Plugin Management</a></li>
                  <li><a href="plugins.html">Plugins</a></li>
                  <li><a href="scm.html">Source Code Management</a></li>
                  <li><a href="summary.html">Summary</a></li>
                  <li><a href="team.html">Team</a></li>
              </ul>
            </li>
            <li class="dropdown-submenu">
<a href="project-reports.html">Project Reports</a>
              <ul class="dropdown-menu">
                  <li><a href="dependency-updates-aggregate-report.html">Dependency Updates Aggregate Report</a></li>
                  <li><a href="dependency-updates-report.html">Dependency Updates Report</a></li>
                  <li><a href="plugin-updates-aggregate-report.html">Plugin Updates Aggregate Report</a></li>
                  <li><a href="plugin-updates-report.html">Plugin Updates Report</a></li>
                  <li><a href="property-updates-aggregate-report.html">Property Updates Aggregate Report</a></li>
                  <li><a href="property-updates-report.html">Property Updates Report</a></li>
                  <li><a href="xref/index.html">Source Xref</a></li>
                  <li><a href="xref-test/index.html">Test Source Xref</a></li>
                  <li><a href="surefire.html">Surefire</a></li>
                  <li><a href="checkstyle-aggregate.html">Checkstyle</a></li>
                  <li><a>CPD</a></li>
                  <li><a href="pmd.html">PMD</a></li>
                  <li><a href="dependency-check-report.html">dependency-check:aggregate</a></li>
              </ul>
            </li>
        </ul>
      </li>
            </ul>
            <ul class="nav pull-right">
              <li class="dropdown">
                <a class="dropdown-toggle" data-toggle="dropdown">External Links <b class="caret"></b></a>
                <ul class="dropdown-menu">
    <li><a href="./">Psi-Probe</a></li>
                </ul>
              </li>
            </ul>
        </div>
      </div>
    </header>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"><div id="bannerLeft"><h1><a href="./"><img src="images/psi-probe-banner.jpg" /></a></h1></div></div>
          <div class="pull-right"><div id="bannerRight"><h1><a href="https://tomcat.apache.org/"><img src="https://tomcat.apache.org/res/images/tomcat.png" /></a></h1></div></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-05-18<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 5.2.2-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">User Guide</li>
    <li><a href="README.html">README</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-down"></span>Project Reports</a>
     <ul class="nav nav-list">
      <li><a href="dependency-updates-aggregate-report.html">Dependency Updates Aggregate Report</a></li>
      <li><a href="dependency-updates-report.html">Dependency Updates Report</a></li>
      <li><a href="plugin-updates-aggregate-report.html">Plugin Updates Aggregate Report</a></li>
      <li><a href="plugin-updates-report.html">Plugin Updates Report</a></li>
      <li><a href="property-updates-aggregate-report.html">Property Updates Aggregate Report</a></li>
      <li><a href="property-updates-report.html">Property Updates Report</a></li>
      <li><a href="xref/index.html">Source Xref</a></li>
      <li><a href="xref-test/index.html">Test Source Xref</a></li>
      <li><a href="surefire.html">Surefire</a></li>
      <li><a href="checkstyle-aggregate.html">Checkstyle</a></li>
      <li class="active"><a>CPD</a></li>
      <li><a href="pmd.html">PMD</a></li>
      <li><a href="dependency-check-report.html">dependency-check:aggregate</a></li>
     </ul></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="CPD_Results"></a>
<h1>CPD Results</h1>
<p>The following document contains the results of PMD's  <a class="externalLink" href="https://pmd.github.io/latest/pmd_userdocs_cpd.html">CPD</a> 7.7.0.</p><section><a id="Duplications"></a>
<h2>Duplications</h2>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/Tomcat10ContainerAdapter.java</td>
<td>psi-probe-tomcat10</td>
<td><a href="./xref/psiprobe/Tomcat10ContainerAdapter.html#L60">60</a></td></tr>
<tr class="a">
<td>psiprobe/Tomcat11ContainerAdapter.java</td>
<td>psi-probe-tomcat11</td>
<td><a href="./xref/psiprobe/Tomcat11ContainerAdapter.html#L60">60</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>|| binding.startsWith(&quot;Vmware tc&quot;) &amp;&amp; binding.contains(&quot;/10.1&quot;);
  }

  /**
   * Gets the filter mappings.
   *
   * @param fmap the fmap
   * @param dm the dm
   * @param filterClass the filter class
   *
   * @return the filter mappings
   */
  protected List&lt;FilterMapping&gt; getFilterMappings(FilterMap fmap, String dm, String filterClass) {
    String[] urls = fmap.getURLPatterns();
    String[] servlets = fmap.getServletNames();
    List&lt;FilterMapping&gt; results = new ArrayList&lt;&gt;(urls.length + servlets.length);
    addFilterMapping(fmap.getFilterName(), dm, filterClass, urls, results, FilterMapType.URL);
    addFilterMapping(fmap.getFilterName(), dm, filterClass, servlets, results,
        FilterMapType.SERVLET_NAME);
    return results;
  }

  @Override
  protected JspCompilationContext createJspCompilationContext(String name, Options opt,
      ServletContext sctx, JspRuntimeContext jrctx, ClassLoader classLoader) {

    JspCompilationContext jcctx = new JspCompilationContext(name, opt, sctx, null, jrctx);
    jcctx.setClassLoader(classLoader);
    return jcctx;
  }

  @Override
  public void addContextResourceLink(Context context, List&lt;ApplicationResource&gt; resourceList) {

    NamingResourcesImpl namingResources = context.getNamingResources();
    for (ContextResourceLink link : namingResources.findResourceLinks()) {
      ApplicationResource resource = new ApplicationResource();

      logger.debug(&quot;reading resourceLink: {}&quot;, link.getName());
      resource.setApplicationName(context.getName());
      resource.setName(link.getName());
      resource.setType(link.getType());
      resource.setLinkTo(link.getGlobal());

      registerGlobalResourceAccess(link);

      resourceList.add(resource);
    }
  }

  @Override
  public void addContextResource(Context context, List&lt;ApplicationResource&gt; resourceList) {
    NamingResourcesImpl namingResources = context.getNamingResources();
    for (ContextResource contextResource : namingResources.findResources()) {
      ApplicationResource resource = new ApplicationResource();

      logger.info(&quot;reading resource: {}&quot;, contextResource.getName());
      resource.setApplicationName(context.getName());
      resource.setName(contextResource.getName());
      resource.setType(contextResource.getType());
      resource.setScope(contextResource.getScope());
      resource.setAuth(contextResource.getAuth());
      resource.setDescription(contextResource.getDescription());

      resourceList.add(resource);
    }
  }

  @Override
  public List&lt;FilterMapping&gt; getApplicationFilterMaps(Context context) {
    FilterMap[] fms = context.findFilterMaps();
    List&lt;FilterMapping&gt; filterMaps = new ArrayList&lt;&gt;(fms.length);
    for (FilterMap filterMap : fms) {
      if (filterMap != null) {
        String dm;
        switch (filterMap.getDispatcherMapping()) {
          case FilterMap.ASYNC:
            dm = &quot;ASYNC&quot;;
            break;
          case FilterMap.ERROR:
            dm = &quot;ERROR&quot;;
            break;
          case FilterMap.FORWARD:
            dm = &quot;FORWARD&quot;;
            break;
          case FilterMap.INCLUDE:
            dm = &quot;INCLUDE&quot;;
            break;
          case FilterMap.REQUEST:
            dm = &quot;REQUEST&quot;;
            break;
          default:
            throw new IllegalArgumentException(
                &quot;Unknown dispatcher mapping: &quot; + filterMap.getDispatcherMapping());
        }

        String filterClass = &quot;&quot;;
        FilterDef fd = context.findFilterDef(filterMap.getFilterName());
        if (fd != null) {
          filterClass = fd.getFilterClass();
        }

        List&lt;FilterMapping&gt; filterMappings = getFilterMappings(filterMap, dm, filterClass);
        filterMaps.addAll(filterMappings);
      }
    }
    return filterMaps;
  }

  @Override
  public List&lt;FilterInfo&gt; getApplicationFilters(Context context) {
    FilterDef[] fds = context.findFilterDefs();
    List&lt;FilterInfo&gt; filterDefs = new ArrayList&lt;&gt;(fds.length);
    for (FilterDef filterDef : fds) {
      if (filterDef != null) {
        FilterInfo fi = getFilterInfo(filterDef);
        filterDefs.add(fi);
      }
    }
    return filterDefs;
  }

  /**
   * Gets the filter info.
   *
   * @param fd the fd
   *
   * @return the filter info
   */
  private static FilterInfo getFilterInfo(FilterDef fd) {
    FilterInfo fi = new FilterInfo();
    fi.setFilterName(fd.getFilterName());
    fi.setFilterClass(fd.getFilterClass());
    fi.setFilterDesc(fd.getDescription());
    return fi;
  }

  @Override
  public List&lt;ApplicationParam&gt; getApplicationInitParams(Context context) {
    /*
     * We'll try to determine if a parameter value comes from a deployment descriptor or a context
     * descriptor.
     *
     * Assumption: context.findParameter() returns only values of parameters that are declared in a
     * deployment descriptor.
     *
     * If a parameter is declared in a context descriptor with override=false and redeclared in a
     * deployment descriptor, context.findParameter() still returns its value, even though the value
     * is taken from a context descriptor.
     *
     * context.findApplicationParameters() returns all parameters that are declared in a context
     * descriptor regardless of whether they are overridden in a deployment descriptor or not or
     * not.
     */
    /*
     * creating a set of parameter names that are declared in a context descriptor and can not be
     * overridden in a deployment descriptor.
     */
    Set&lt;String&gt; nonOverridableParams = new HashSet&lt;&gt;();
    for (ApplicationParameter appParam : context.findApplicationParameters()) {
      if (appParam != null &amp;&amp; !appParam.getOverride()) {
        nonOverridableParams.add(appParam.getName());
      }
    }
    List&lt;ApplicationParam&gt; initParams = new ArrayList&lt;&gt;(20);
    ServletContext servletCtx = context.getServletContext();
    for (String paramName : Collections.list(servletCtx.getInitParameterNames())) {
      ApplicationParam param = new ApplicationParam();
      param.setName(paramName);
      param.setValue(servletCtx.getInitParameter(paramName));
      /*
       * if the parameter is declared in a deployment descriptor and it is not declared in a context
       * descriptor with override=false, the value comes from the deployment descriptor
       */
      param.setFromDeplDescr(
          context.findParameter(paramName) != null &amp;&amp; !nonOverridableParams.contains(paramName));
      initParams.add(param);
    }
    return initParams;
  }

  @Override
  public boolean resourceExists(String name, Context context) {
    return context.getResources().getResource(name) != null;
  }

  @Override
  public InputStream getResourceStream(String name, Context context) throws IOException {
    WebResource resource = context.getResources().getResource(name);
    return resource.getInputStream();
  }

  @Override
  public Long[] getResourceAttributes(String name, Context context) {
    Long[] result = new Long[2];
    WebResource resource = context.getResources().getResource(name);
    result[0] = resource.getContentLength();
    result[1] = resource.getLastModified();
    return result;
  }

  /**
   * Returns the security token required to bind to a naming context.
   *
   * @param context the catalina context
   *
   * @return the security token for use with &lt;code&gt;ContextBindings&lt;/code&gt;
   */
  @Override
  protected Object getNamingToken(Context context) {
    // Used by NamingContextListener when setting up JNDI context
    Object token = context.getNamingToken();
    if (!ContextAccessController.checkSecurityToken(context, token)) {
      logger.error(&quot;Couldn't get a valid security token. ClassLoader binding will fail.&quot;);
    }
    return token;
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback/LogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackLoggerAccessor.html#L71">71</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/logback13/Logback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback13/Logback13LoggerAccessor.html#L68">68</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>for (LogbackAppenderAccessor wrappedAppender : appenders) {
          if (wrappedAppender.getIndex().equals(name)) {
            return wrappedAppender;
          }
        }
      }
      return wrapAppender(appender);
    } catch (Exception e) {
      logger.error(&quot;{}#getAppender() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Checks if is context.
   *
   * @return true, if is context
   */
  public boolean isContext() {
    return false;
  }

  /**
   * Checks if is root.
   *
   * @return true, if is root
   */
  public boolean isRoot() {
    return &quot;ROOT&quot;.equals(getName());
  }

  /**
   * Gets the name.
   *
   * @return the name
   */
  public String getName() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Gets the log level of this logger.
   *
   * @return the level of this logger
   */
  public String getLevel() {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      return (String) MethodUtils.invokeMethod(level, &quot;toString&quot;);
    } catch (Exception e) {
      logger.error(&quot;{}#getLevel() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Sets the log level of this logger.
   *
   * @param newLevelStr the name of the new level
   */
  public void setLevel(String newLevelStr) {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      Object newLevel = MethodUtils.invokeMethod(level, &quot;toLevel&quot;, newLevelStr);
      MethodUtils.invokeMethod(getTarget(), &quot;setLevel&quot;, newLevel);
    } catch (Exception e) {
      logger.error(&quot;{}#setLevel('{}') failed&quot;, getTarget().getClass().getName(), newLevelStr, e);
    }
  }

  /**
   * Gets the sifted appenders.
   *
   * @param appender the appender
   *
   * @return the sifted appenders
   *
   * @throws Exception the exception
   */
  @SuppressWarnings(&quot;unchecked&quot;)
  private List&lt;Object&gt; getSiftedAppenders(Object appender) throws Exception {
    if (&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;.equals(appender.getClass().getName())) {
      Object tracker = MethodUtils.invokeMethod(appender, &quot;getAppenderTracker&quot;);
      if (tracker != null) {
        return (List&lt;Object&gt;) MethodUtils.invokeMethod(tracker, &quot;allComponents&quot;);
      }
    }
    return Collections.emptyList();
  }

  /**
   * Wrap and add appender.
   *
   * @param appender the appender
   * @param appenders the appenders
   */
  private void wrapAndAddAppender(Object appender, Collection&lt;LogbackAppenderAccessor&gt; appenders) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback/LogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackLoggerAccessor.html#L71">71</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.html#L72">72</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.html#L72">72</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>for (LogbackAppenderAccessor wrappedAppender : appenders) {
          if (wrappedAppender.getIndex().equals(name)) {
            return wrappedAppender;
          }
        }
      }
      return wrapAppender(appender);
    } catch (Exception e) {
      logger.error(&quot;{}#getAppender() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Checks if is context.
   *
   * @return true, if is context
   */
  public boolean isContext() {
    return false;
  }

  /**
   * Checks if is root.
   *
   * @return true, if is root
   */
  public boolean isRoot() {
    return &quot;ROOT&quot;.equals(getName());
  }

  /**
   * Gets the name.
   *
   * @return the name
   */
  public String getName() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Gets the log level of this logger.
   *
   * @return the level of this logger
   */
  public String getLevel() {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      return (String) MethodUtils.invokeMethod(level, &quot;toString&quot;);
    } catch (Exception e) {
      logger.error(&quot;{}#getLevel() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Sets the log level of this logger.
   *
   * @param newLevelStr the name of the new level
   */
  public void setLevel(String newLevelStr) {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      Object newLevel = MethodUtils.invokeMethod(level, &quot;toLevel&quot;, newLevelStr);
      MethodUtils.invokeMethod(getTarget(), &quot;setLevel&quot;, newLevel);
    } catch (Exception e) {
      logger.error(&quot;{}#setLevel('{}') failed&quot;, getTarget().getClass().getName(), newLevelStr, e);
    }
  }

  /**
   * Gets the sifted appenders.
   *
   * @param appender the appender
   *
   * @return the sifted appenders
   *
   * @throws Exception the exception
   */
  @SuppressWarnings(&quot;unchecked&quot;)
  private List&lt;Object&gt; getSiftedAppenders(Object appender) throws Exception {
    if (&quot;ch.qos.logback.classic.sift.SiftingAppender&quot;.equals(appender.getClass().getName())) {</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback/LogbackAppenderAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackAppenderAccessor.html#L72">72</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/logback13/Logback13AppenderAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback13/Logback13AppenderAccessor.html#L72">72</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackAppenderAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackAppenderAccessor.html#L72">72</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13AppenderAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13AppenderAccessor.html#L72">72</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>}

  /**
   * Returns the name of this appender.
   *
   * @return the name of this appender.
   */
  @Override
  public String getIndex() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Returns the file that this appender writes to by accessing the {@code file} bean property of
   * the appender.
   *
   * &lt;p&gt;
   * If no such property exists, we assume the appender to write to stdout or stderr so the output
   * will be contained in catalina.out.
   *
   * @return the file this appender writes to
   */
  @Override
  public File getFile() {
    String fileName = (String) getProperty(getTarget(), &quot;file&quot;, null);
    return fileName != null ? Path.of(fileName).toFile() : getStdoutFile();
  }

  @Override
  public String getEncoding() {
    if (getTarget() instanceof OutputStreamAppender appender) {
      Encoder&lt;?&gt; encoder = appender.getEncoder();
      if (encoder instanceof LayoutWrappingEncoder base) {
        if (base.getCharset() != null) {
          return base.getCharset().name();
        }
      }
    }
    return null;
  }

  /**
   * Gets the level of the associated logger.
   *
   * @return the logger's level
   */
  @Override
  public String getLevel() {
    return getLoggerAccessor().getLevel();
  }

  /**
   * Returns the valid log level names.
   *
   * &lt;p&gt;
   * Note that Logback has no FATAL level.
   *
   * @return the valid log level names
   */
  @Override
  public String[] getValidLevels() {
    return new String[] {&quot;OFF&quot;, &quot;ERROR&quot;, &quot;WARN&quot;, &quot;INFO&quot;, &quot;DEBUG&quot;, &quot;TRACE&quot;, &quot;ALL&quot;};
  }

}</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/log4j/Log4JLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/log4j/Log4JLoggerAccessor.html#L93">93</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/logback/LogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackLoggerAccessor.html#L99">99</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback13/Logback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback13/Logback13LoggerAccessor.html#L96">96</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.html#L100">100</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.html#L100">100</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>return &quot;root&quot;.equals(getName()) &amp;&amp; &quot;org.apache.log4j.spi.RootLogger&quot;.equals(getTargetClass());
  }

  /**
   * Gets the name.
   *
   * @return the name
   */
  public String getName() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Gets the level.
   *
   * @return the level
   */
  public String getLevel() {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      return (String) MethodUtils.invokeMethod(level, &quot;toString&quot;);
    } catch (Exception e) {
      logger.error(&quot;{}#getLevel() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Sets the level.
   *
   * @param newLevelStr the new level
   */
  public void setLevel(String newLevelStr) {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      Object newLevel = MethodUtils.invokeMethod(level, &quot;toLevel&quot;, newLevelStr);
      MethodUtils.invokeMethod(getTarget(), &quot;setLevel&quot;, newLevel);
    } catch (Exception e) {
      logger.error(&quot;{}#setLevel('{}') failed&quot;, getTarget().getClass().getName(), newLevelStr, e);
    }
  }</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/controllers/deploy/CopySingleFileController.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/controllers/deploy/CopySingleFileController.html#L72">72</a></td></tr>
<tr class="a">
<td>psiprobe/controllers/deploy/DeployController.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/controllers/deploy/DeployController.html#L46">46</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>HttpServletRequest request) throws IOException {

    List&lt;Context&gt; apps;
    try {
      apps = getContainerWrapper().getTomcatContainer().findContexts();
    } catch (NullPointerException ex) {
      throw new IllegalStateException(
          &quot;No container found for your server: &quot; + getServletContext().getServerInfo(), ex);
    }

    List&lt;Map&lt;String, String&gt;&gt; applications = new ArrayList&lt;&gt;();
    for (Context appContext : apps) {
      // check if this is not the ROOT webapp
      if (!Strings.isNullOrEmpty(appContext.getName())) {
        Map&lt;String, String&gt; app = new HashMap&lt;&gt;();
        app.put(&quot;value&quot;, appContext.getName());
        app.put(&quot;label&quot;, appContext.getName());
        applications.add(app);
      }
    }
    request.setAttribute(&quot;apps&quot;, applications);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/log4j2/Log4J2LoggerConfigAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/log4j2/Log4J2LoggerConfigAccessor.html#L145">145</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/logback/LogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackLoggerAccessor.html#L99">99</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback13/Logback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback13/Logback13LoggerAccessor.html#L96">96</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.html#L100">100</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.html#L100">100</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>return Strings.isNullOrEmpty(getName());
  }

  /**
   * Gets the name.
   *
   * @return the name
   */
  public String getName() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Gets the level.
   *
   * @return the level
   */
  public String getLevel() {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      return (String) MethodUtils.invokeMethod(level, &quot;toString&quot;);
    } catch (Exception e) {
      logger.error(&quot;{}#getLevel() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Sets the level.
   *
   * @param newLevelStr the new level
   */
  public void setLevel(String newLevelStr) {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      Object newLevel = MethodUtils.invokeMethod(level, &quot;toLevel&quot;, newLevelStr);
      MethodUtils.invokeMethod(getTarget(), &quot;setLevel&quot;, newLevel);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/log4j/Log4JLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/log4j/Log4JLoggerAccessor.html#L93">93</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/log4j2/Log4J2LoggerConfigAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/log4j2/Log4J2LoggerConfigAccessor.html#L145">145</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>return &quot;root&quot;.equals(getName()) &amp;&amp; &quot;org.apache.log4j.spi.RootLogger&quot;.equals(getTargetClass());
  }

  /**
   * Gets the name.
   *
   * @return the name
   */
  public String getName() {
    return (String) getProperty(getTarget(), &quot;name&quot;, null);
  }

  /**
   * Gets the level.
   *
   * @return the level
   */
  public String getLevel() {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      return (String) MethodUtils.invokeMethod(level, &quot;toString&quot;);
    } catch (Exception e) {
      logger.error(&quot;{}#getLevel() failed&quot;, getTarget().getClass().getName(), e);
    }
    return null;
  }

  /**
   * Sets the level.
   *
   * @param newLevelStr the new level
   */
  public void setLevel(String newLevelStr) {
    try {
      Object level = MethodUtils.invokeMethod(getTarget(), &quot;getLevel&quot;);
      Object newLevel = MethodUtils.invokeMethod(level, &quot;toLevel&quot;, newLevelStr);
      MethodUtils.invokeMethod(getTarget(), &quot;setLevel&quot;, newLevel);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/beans/accessors/Dbcp2DatasourceAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/beans/accessors/Dbcp2DatasourceAccessor.html#L20">20</a></td></tr>
<tr class="a">
<td>psiprobe/beans/accessors/OpenEjbBasicDatasourceAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/beans/accessors/OpenEjbBasicDatasourceAccessor.html#L20">20</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public class Dbcp2DatasourceAccessor implements DatasourceAccessor {

  @Override
  public DataSourceInfo getInfo(Object resource) {
    DataSourceInfo dataSourceInfo = null;
    if (canMap(resource)) {
      BasicDataSource source = (BasicDataSource) resource;
      dataSourceInfo = new DataSourceInfo();
      dataSourceInfo.setBusyConnections(source.getNumActive());
      dataSourceInfo.setEstablishedConnections(source.getNumIdle() + source.getNumActive());
      dataSourceInfo.setMaxConnections(source.getMaxTotal());
      dataSourceInfo.setJdbcUrl(source.getUrl());
      dataSourceInfo.setUsername(source.getUserName());
      dataSourceInfo.setResettable(false);
      dataSourceInfo.setType(&quot;commons-dbcp2&quot;);
    }
    return dataSourceInfo;
  }

  @Override
  public boolean reset(Object resource) {
    return false;
  }

  @Override
  public boolean canMap(Object resource) {
    return &quot;org.apache.commons.dbcp2.BasicDataSource&quot;.equals(resource.getClass().getName())</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback13/Logback13FactoryAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback13/Logback13FactoryAccessor.html#L47">47</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13FactoryAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13FactoryAccessor.html#L48">48</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>public Logback13FactoryAccessor(ClassLoader cl)
      throws ClassNotFoundException, IllegalAccessException, InvocationTargetException,
      NoSuchMethodException, SecurityException, IllegalArgumentException {

    // Get the SLF4J provider binding, which may or may not be Logback, depending on the binding.
    final List&lt;?&gt; providers = findServiceProviders(cl);
    if (providers.isEmpty()) {
      throw new RuntimeException(&quot;The SLF4J provider binding was not Logback&quot;);
    }

    // Get the service provider
    Object provider = providers.get(0);

    // Initialize the service provider
    Method initialize = MethodUtils.getAccessibleMethod(provider.getClass(), &quot;initialize&quot;);
    initialize.invoke(provider);

    // Call the logger factory
    Method getLoggerFactory =
        MethodUtils.getAccessibleMethod(provider.getClass(), &quot;getLoggerFactory&quot;);
    Object loggerFactory = getLoggerFactory.invoke(provider);

    // Check if the binding is indeed Logback
    Class&lt;?&gt; loggerFactoryClass = cl.loadClass(&quot;ch.qos.logback.classic.LoggerContext&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/beans/accessors/Dbcp2DatasourceAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/beans/accessors/Dbcp2DatasourceAccessor.html#L20">20</a></td></tr>
<tr class="a">
<td>psiprobe/beans/accessors/Tomcat10DbcpDatasourceAccessor.java</td>
<td>psi-probe-tomcat10</td>
<td><a href="./xref/psiprobe/beans/accessors/Tomcat10DbcpDatasourceAccessor.html#L20">20</a></td></tr>
<tr class="b">
<td>psiprobe/beans/accessors/Tomcat11DbcpDatasourceAccessor.java</td>
<td>psi-probe-tomcat11</td>
<td><a href="./xref/psiprobe/beans/accessors/Tomcat11DbcpDatasourceAccessor.html#L20">20</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>public class Dbcp2DatasourceAccessor implements DatasourceAccessor {

  @Override
  public DataSourceInfo getInfo(Object resource) {
    DataSourceInfo dataSourceInfo = null;
    if (canMap(resource)) {
      BasicDataSource source = (BasicDataSource) resource;
      dataSourceInfo = new DataSourceInfo();
      dataSourceInfo.setBusyConnections(source.getNumActive());
      dataSourceInfo.setEstablishedConnections(source.getNumIdle() + source.getNumActive());
      dataSourceInfo.setMaxConnections(source.getMaxTotal());
      dataSourceInfo.setJdbcUrl(source.getUrl());
      dataSourceInfo.setUsername(source.getUserName());
      dataSourceInfo.setResettable(false);
      dataSourceInfo.setType(&quot;commons-dbcp2&quot;);</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/beans/accessors/TomEeJdbcPoolDatasourceAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/beans/accessors/TomEeJdbcPoolDatasourceAccessor.html#L28">28</a></td></tr>
<tr class="a">
<td>psiprobe/beans/accessors/TomcatJdbcPoolDatasourceAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/beans/accessors/TomcatJdbcPoolDatasourceAccessor.html#L26">26</a></td></tr>
<tr class="b">
<td colspan="3">
<pre>(TomEEDataSourceCreator.TomEEDataSource) resource;
      dataSourceInfo = new DataSourceInfo();
      dataSourceInfo.setBusyConnections(source.getNumActive());
      dataSourceInfo.setEstablishedConnections(source.getNumIdle() + source.getNumActive());
      dataSourceInfo.setMaxConnections(source.getMaxActive());
      dataSourceInfo.setJdbcUrl(source.getUrl());
      dataSourceInfo.setUsername(source.getUsername());
      dataSourceInfo.setResettable(false);
      dataSourceInfo.setType(&quot;tomcat-jdbc&quot;);
    }
    return dataSourceInfo;
  }

  @Override
  public boolean reset(Object resource) {
    return false;
  }

  @Override
  public boolean canMap(Object resource) {
    return &quot;org.apache.tomee.jdbc.TomEEDataSourceCreator$TomEEDataSource&quot;</pre></td></tr></table>
<table class="table table-striped">
<tr class="a">
<th>File</th>
<th>Project</th>
<th>Line</th></tr>
<tr class="b">
<td>psiprobe/tools/logging/logback/LogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/logback/LogbackLoggerAccessor.html#L37">37</a></td></tr>
<tr class="a">
<td>psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback/TomcatSlf4jLogbackLoggerAccessor.html#L37">37</a></td></tr>
<tr class="b">
<td>psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.java</td>
<td>psi-probe-core</td>
<td><a href="./xref/psiprobe/tools/logging/slf4jlogback13/TomcatSlf4jLogback13LoggerAccessor.html#L37">37</a></td></tr>
<tr class="a">
<td colspan="3">
<pre>List&lt;LogbackAppenderAccessor&gt; appenders = new ArrayList&lt;&gt;();
    try {
      for (Object appender : Collections.list(Iterators.asEnumeration(
          (Iterator&lt;Object&gt;) MethodUtils.invokeMethod(getTarget(), &quot;iteratorForAppenders&quot;)))) {
        List&lt;Object&gt; siftedAppenders = getSiftedAppenders(appender);
        if (!siftedAppenders.isEmpty()) {
          for (Object siftedAppender : siftedAppenders) {
            wrapAndAddAppender(siftedAppender, appenders);
          }
        } else {
          wrapAndAddAppender(appender, appenders);
        }
      }
    } catch (NoClassDefFoundError e) {
      logger.error(&quot;{}#getAppenders() failed, To see this logger, upgrade slf4j to 1.7.21+&quot;,</pre></td></tr></table></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Â©      2009â€“2025
<a href="https://github.com/psi-probe/">psi-probe</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
